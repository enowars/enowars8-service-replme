import asyncio
import sys

from httpx import AsyncClient
from exploit import exploit0, exploit1


async def main():
    if len(sys.argv) != 3:
        exit(1)

    method = sys.argv[1]
    address = sys.argv[2]

    # TODO get attack_info

    async with AsyncClient(base_url=f"http://{address}:6969") as client:
        if method == "exploit0":
            flag = await exploit0("TODO", address, client)
            print(flag)
        if method == "exploit1":
            flag = await exploit1("TODO", client)
            print(flag)


asyncio.run(main())
